{"pages":[{"title":"å…³äº","text":"å…³äºæˆ‘ä¸€ä¸ª Python ç¨‹åºå‘˜ğŸ‘¨â€ğŸ’»â€","link":"/about/index.html"},{"title":"æ ‡ç­¾","text":"","link":"/tags/index.html"}],"posts":[{"title":"CentOS 6 æ­å»º Elasticsearch é›†ç¾¤","text":"å‰å¸çš„è¿ç»´æ°´å¹³å¤ªé«˜äº†ï¼Œä»¥è‡³äºä»æ¥æ²¡æœ‰\bè‡ªå·±æ­å»ºè¿‡\b es çš„é›†ç¾¤å’Œç›¸å…³æœåŠ¡ã€‚\bä»Šå¤©å› ä¸ºä¸šåŠ¡éœ€è¦è‡ªå·±æ­å»ºäº†ä¸€ä¸‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚ Elasticsearchæœç´¢ã€åˆ†æå’Œå­˜å‚¨æ•°æ® ä¾èµ– Java å®‰è£…å®˜æ–¹æ–‡æ¡£å·²ç»éå¸¸è¯¦ç»†äº†ï¼Œä¸å†èµ˜è¿°~ å¯åŠ¨ã€æ£€æµ‹CentOS 6 ä¸­ï¼Œç”¨ init ç®¡ç† 1234sudo chkconfig --add elasticsearchsudo service elasticsearch startsudo service elasticsearch stop è¿›è¡Œæµ‹è¯• 1curl -XGET 'localhost:9200/?pretty' æ­£å¸¸çš„è¯ï¼Œå¾—åˆ°ç±»ä¼¼è¾“å‡º 12345678910111213{ \"name\" : \"name\", \"cluster_name\" : \"cluster_name\", \"cluster_uuid\" : \"cluster_uuid\", \"version\" : { \"number\" : \"5.5.2\", \"build_hash\" : \"b2f0c09\", \"build_date\" : \"2017-08-14T12:33:14.154Z\", \"build_snapshot\" : false, \"lucene_version\" : \"6.6.0\" }, \"tagline\" : \"You Know, for Search\"} æœ‰é”™è¯¯çš„è¯ï¼Œåœ¨ /var/log/elasticsearch/ \bæŸ¥çœ‹æ—¥å¿— å•æœºæµ‹è¯•éšä¾¿ç©å„¿çš„è¯ï¼Œé…ç½®å°±æ²¡æœ‰å¿…è¦æ”¹äº†ï¼Œç”¨é»˜è®¤çš„å°±å¥½ é…ç½®é›†ç¾¤è¿™é‡Œå‡è®¾ï¼Œä¸¤å°æœåŠ¡å™¨IPä¸º 12ç¬¬ä¸€å°æœºå™¨: 192.168.0.1ç¬¬äºŒå°æœºå™¨: 192.168.0.2 é…ç½®æ–‡ä»¶\bï¼š/etc/elasticsearch/elasticsearch.yml 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# ======================== Elasticsearch Configuration =========================## ---------------------------------- Cluster -----------------------------------# Use a descriptive name for your cluster:cluster.name: elasticsearch # æ‰€æœ‰æœåŠ¡å™¨ä¿æŒ\bä¸€è‡´# ------------------------------------ Node ------------------------------------# Use a descriptive name for the node:node.name: elasticsearch_node_x # æ¯ä¸ªæœåŠ¡å™¨ä¸ä¸€æ ·# Add custom attributes to the node:node.attr.rack: elasticsearch_node_rx # æ¯ä¸ªæœåŠ¡å™¨ä¸ä¸€æ ·# ----------------------------------- Paths ------------------------------------# Path to directory where to store the data (separate multiple locations by comma):# æ•°æ®å’Œæ—¥å¿—ä½ç½®ï¼ŒæŒ‰éœ€æ›´æ”¹#path.data: /path/to/data# Path to log files:#path.logs: /path/to/logs# ----------------------------------- Memory -----------------------------------## Lock the memory on startup:#bootstrap.memory_lock: true# å› ä¸º Centos6 ä¸æ”¯æŒ SecComp æ‰€ä»¥è®¾ç½®ä¸º falsebootstrap.memory_lock: falsebootstrap.system_call_filter: false## Make sure that the heap size is set to about half the memory available# on the system and that the owner of the process is allowed to use this# limit.# Elasticsearch performs poorly when the system is swapping the memory.# ---------------------------------- Network -----------------------------------## Set the bind address to a specific IP (IPv4 or IPv6):network.host: 192.168.0.1 # ç¬¬ä¸€å°æœåŠ¡å™¨network.host: 192.168.0.2 # ç¬¬äºŒå°æœåŠ¡å™¨## Set a custom port for HTTP:http.port: 9200## --------------------------------- Discovery ----------------------------------# Pass an initial list of hosts to perform discovery when new node is started:discovery.zen.ping.unicast.hosts: [\"192.168.0.1:9300\", \"192.168.0.2:9300\"]## Prevent the \"split brain\" by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):discovery.zen.minimum_master_nodes: 2## For more information, consult the zen discovery module documentation.## ---------------------------------- Gateway -----------------------------------## Block initial recovery after a full cluster restart until N nodes are started:gateway.recover_after_nodes: 2 å¯åŠ¨æ—¶å¯èƒ½é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536] max number of threads [1024] for user [es] is too low, increase to at least [2048] max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144] è§£å†³æ–¹æ¡ˆè§é“¾æ¥ Kibanaå®ç°æ•°æ®å¯è§†åŒ– å®‰è£…ä¸è¿è¡Œåœ¨ä¸€å°æœåŠ¡å™¨å®‰è£…å°±å¥½ï¼Œä¾æ—§æ˜¯çœ‹å®˜ç½‘æ–‡æ¡£~ è®¿é—® http://192.168.0.1:5601 é…ç½®\bé…ç½®æ–‡ä»¶/etc/kibana/kibana.yml 1elasticsearch.url: \"http://192.168.0.1:9200\" X-PackX-Pack æ˜¯é›†æˆäº†å¤šç§ä¾¿æ·åŠŸèƒ½çš„å•ä¸ªæ’ä»¶ â€” securityã€alertingã€monitoringã€reportingã€graph æ¢ç´¢å’Œ machine learning å®‰è£…\båœ¨esä¸Šå®‰è£…æ’ä»¶ 1./usr/share/elasticsearch/bin/elasticsearch-plugin install x-pack é‡å¯es 1sudo service elasticsearch restart åœ¨kibanaä¸Šå®‰è£…æ’ä»¶ 1./usr/share/kibana/bin/kibana-plugin install x-pack é‡å¯kibana 1sudo service kibana restart é…ç½®å®‰è£…å¥½ä¹‹å x-pack ä¹‹åè®¿é—® esã€kibana éœ€è¦ç”¨æˆ·åå¯†ç ï¼Œé»˜è®¤çš„ã€‚ ç”¨æˆ·åï¼šelastic å¯†ç ï¼šchangeme ä¿®æ”¹å¯†ç  è¿›å…¥kibanaï¼Œé¡µé¢ä¸Šè¿›è¡Œæ“ä½œ åœ¨å‘½ä»¤è¡Œä¸­æ“ä½œ 1234567curl -XPUT -u elastic 'localhost:9200/_xpack/security/user/elastic/_password' -H \"Content-Type: application/json\" -d '{ \"password\" : \"elasticpassword\"}'curl -XPUT -u elastic 'localhost:9200/_xpack/security/user/kibana/_password' -H \"Content-Type: application/json\" -d '{ \"password\" : \"kibanapassword\"}' è‡³æ­¤ï¼Œelasticsearchï¼Œkibanaå°±é…ç½®å¥½äº†ï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº†~~","link":"/2017/08/28/CentOS-6-æ­å»º-Elasticsearch-é›†ç¾¤/"},{"title":"GitHub ä»£ç†","text":"ç¼˜ç”±å‰å‡ å¤©çªç„¶ä¸èƒ½é€šè¿‡ ssh çš„æ–¹å¼è®¿é—® GitHub çš„é¡¹ç›®ï¼ŒæŸ¥è¯¢\bå„ç§èµ„æ–™åï¼Œé€šè¿‡é…ç½® ssh/config ç»ˆäºè§£å†³ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ä¾èµ–ä¸¤ç§ä»£ç†æ–¹å¼å…¶ä¸­ä¸€ä¸ª http ä»£ç† socks5 ä»£ç† ä»£ç é…ç½® \bGitHub SSH ä»£ç†ç¼–è¾‘\b\b ~/.ssh/config æ·»åŠ ä»¥ä¸‹ä»£ç  12345678Host github.com Hostname ssh.github.com User git Port 443 # å¦‚æœæ˜¯ HTTP ä»£ç†ï¼ŒæŠŠä¸‹é¢è¿™è¡Œå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æŠŠ proxyport æ”¹æˆè‡ªå·±çš„ http ä»£ç†çš„ç«¯å£ # ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=6667 # å¦‚æœæ˜¯ socks5 ä»£ç†ï¼Œåˆ™æŠŠä¸‹é¢è¿™è¡Œå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æŠŠ 1086 æ”¹æˆè‡ªå·± socks5 ä»£ç†çš„ç«¯å£ # ProxyCommand nc -v -x 127.0.0.1:1086 %h %p é…ç½® Git HTTP ä»£ç†1234// èµ°http\bä»£ç†ï¼Œæ›¿æ¢æˆ &quot;http://127.0.0.1:6667&quot;git config --global http.proxy &quot;socks5://127.0.0.1:1086&quot;git config --global https.proxy &quot;socks5://127.0.0.1:1086&quot; å˜æ›´å¯ä»¥ç¼–è¾‘ ~/.gitconfig å‚è€ƒèµ„æ–™ è®¾ç½®Git\bä»£ç† GitHub","link":"/2017/09/05/GitHub-ä»£ç†/"},{"title":"è¯ˆå°¸","text":"æ›´æ–°ä¸€ä¸‹ä¸»é¢˜ICARUS","link":"/2018/11/05/update-theme/"},{"title":"vscode eslint é…ç½®","text":"æœ€è¿‘å¼€å§‹å­¦ä¹  Reactï¼Œ\bé…ç½®äº†ä¸‹ vscode çš„ eslint å’Œ\bæ ¼å¼åŒ– æˆ‘çš„ es6 æ ¼å¼ï¼š \bç»“å°¾\båŠ åˆ†å· \b2ä¸ªç©ºæ ¼ç¼©è¿› \bç”¨å•å¼•å· ä¾èµ–npm eslint babel-eslint ä½¿ç”¨\b \bcnpm æˆ–è€… npm config set registry https://registry.npm.taobao.org å¯ä»¥åŠ å¿« npm install é€Ÿåº¦ vscode æ’ä»¶ eslint Prettier - JavaScript formatter EditorConfig for VS Code (\bç”¨æ¥æ§åˆ¶ä¸åŒè¯­è¨€çš„æ–‡ä»¶çš„\bæ ¼å¼ï¼‰ é…ç½®é…ç½® eslint è§£æå™¨ã€è§„åˆ™\båœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .eslintrc.json æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940// ä¸­æ–‡æ–‡æ¡£ï¼šhttp://eslint.cn/docs/rules/// è‹±æ–‡æ–‡æ¡£ï¼šhttps://eslint.org/docs/rules/{ \"parser\": \"babel-eslint\", \"env\": { \"browser\": true, \"commonjs\": true, \"es6\": true, \"node\": true }, \"parserOptions\": { \"ecmaVersion\": 6, \"sourceType\": \"module\", \"ecmaFeatures\": { \"jsx\": true, \"classes\": true, \"defaultParams\": true } }, \"rules\": { \"no-const-assign\": 1, \"no-extra-semi\": 0, \"no-fallthrough\": 0, \"no-empty\": 0, \"no-mixed-spaces-and-tabs\": 0, \"no-redeclare\": 0, \"no-this-before-super\": 1, \"no-undef\": 1, \"no-unreachable\": 1, \"no-use-before-define\": 0, \"constructor-super\": 1, \"curly\": 0, \"eqeqeq\": 0, \"func-names\": 0, \"valid-typeof\": 1, \"semi\": 1, // ç»“å°¾\bæœ‰\båˆ†å· \"quotes\": [1, \"single\", { \"avoidEscape\": true }], // ä½¿ç”¨å•å¼•å· \"indent\": [1, 2, { \"SwitchCase\": 1 }] // ä½¿ç”¨2ä¸ªç©ºæ ¼ç¼©è¿› }} é…ç½® eslint å¿½ç•¥çš„æ–‡ä»¶æœ‰äº›æ–‡ä»¶ä¸éœ€è¦ä½¿ç”¨åˆ° eslint å‡å°‘ç¼–è¾‘å™¨æŠ¥é”™ \båœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .eslintignore 123build/*.jsconfig/*.jsnode_modules/*.js é…ç½® Prettieråœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .prettierrc 1234// æ›´å¤šé…ç½®è§ https://github.com/prettier/prettier{ \"singleQuote\": true // æ ¼å¼åŒ–ä½¿ç”¨å•å¼•å·} é…ç½® EditorConfigé…ç½®ä¸åŒè¯­è¨€æ–‡ä»¶çš„ä¸åŒç¼©è¿›æ ¼å¼ åœ¨ \bHOME ç›®å½•ä¸‹ï¼Œåˆ›å»ºæ–‡ä»¶ã€‚vim ~/.editorconfig \b 123456789101112131415161718192021222324252627282930313233343536373839# EditorConfig is awesome: http://EditorConfig.org# top-most EditorConfig fileroot = true# Unix-style newlines with a newline ending every file[*]end_of_line = lfcharset = utf-8trim_trailing_whitespace = true# Matches multiple files with brace expansion notation# Set default charset[*.{js,py}]charset = utf-8# 4 space indentation[*.py]indent_style = spaceindent_size = 4[*.{js, html, css}]indent_style = spaceindent_size = 2[Makefile]indent_style = spaceindent_size = 4# Indentation override for all JS under lib directory[lib/**.js]indent_style = spaceindent_size = 2# Matches the exact files either package.json or .travis.yml[{package.json,.travis.yml}]indent_style = spaceindent_size = 2 é…ç½® vscodeç¼–è¾‘ vscode çš„é…ç½®æ–‡ä»¶ \b\bä¿å­˜è‡ªåŠ¨\bæ ¼å¼åŒ–123{ \"editor.formatOnSave\": true} åœ¨èµ„æºç®¡ç†å™¨ä¸­ä¸æ˜¾ç¤º node_modules12345678910{ \"files.exclude\": { \"**/.git\": true, \"**/.svn\": true, \"**/.hg\": true, \"**/CVS\": true, \"**/.DS_Store\": true, \"**/node_modules\": true }}","link":"/2017/09/07/vscode-eslint-é…ç½®/"}],"tags":[{"name":"centos","slug":"centos","link":"/tags/centos/"},{"name":"Elasticsearch","slug":"Elasticsearch","link":"/tags/Elasticsearch/"},{"name":"kibana","slug":"kibana","link":"/tags/kibana/"},{"name":"GitHub","slug":"GitHub","link":"/tags/GitHub/"},{"name":"theme","slug":"theme","link":"/tags/theme/"},{"name":"vscode","slug":"vscode","link":"/tags/vscode/"},{"name":"React","slug":"React","link":"/tags/React/"}],"categories":[]}